{"version":3,"sources":["../../../../src/app/actions/settings.ts","../../../../.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/firebase-admin\";\nimport { revalidatePath } from \"next/cache\";\n\nconst SETTINGS_COLLECTION = \"settings\";\nconst DOCUMENT_ID = \"default\";\nconst DEFAULT_VIDEO_URL = \"https://videos.pexels.com/video-files/3121459/3121459-hd_1920_1080_25fps.mp4\";\n\nexport async function getSiteSettings() {\n    try {\n        const doc = await db.collection(SETTINGS_COLLECTION).doc(DOCUMENT_ID).get();\n\n        if (!doc.exists) {\n            // Create default if not exists\n            const defaultSettings = {\n                id: DOCUMENT_ID,\n                heroVideoUrl: DEFAULT_VIDEO_URL,\n                updatedAt: new Date().toISOString()\n            };\n            await db.collection(SETTINGS_COLLECTION).doc(DOCUMENT_ID).set(defaultSettings);\n            return defaultSettings;\n        }\n\n        return doc.data();\n    } catch (error) {\n        console.error(\"Firestore Error (getSiteSettings):\", error);\n        // Return memory default on error\n        return {\n            id: DOCUMENT_ID,\n            heroVideoUrl: DEFAULT_VIDEO_URL,\n            updatedAt: new Date().toISOString()\n        };\n    }\n}\n\nexport async function updateHeroVideo(formData: FormData) {\n    const videoUrl = formData.get(\"videoUrl\") as string;\n\n    if (!videoUrl) return;\n\n    await db.collection(SETTINGS_COLLECTION).doc(DOCUMENT_ID).set({\n        id: DOCUMENT_ID,\n        heroVideoUrl: videoUrl,\n        updatedAt: new Date().toISOString()\n    }, { merge: true });\n\n    revalidatePath(\"/\");\n    revalidatePath(\"/admin\");\n}\n","export {getProjects as '00e688284d791d0fb7fbee51fecc4ef604afb4131c'} from 'ACTIONS_MODULE0'\nexport {createProject as '40155db28b88fe71857eb6a6b84626cd6672e41dee'} from 'ACTIONS_MODULE0'\nexport {getProjectById as '409aa7d2c723e07611a9f2e1df83b60a313930485e'} from 'ACTIONS_MODULE0'\nexport {deleteProject as '40a120f324c3f668fc57284b59ac14769c60103cc6'} from 'ACTIONS_MODULE0'\nexport {getProjectBySlug as '40b14e9625f283c469140b6fe2d677317660d068e5'} from 'ACTIONS_MODULE0'\nexport {updateProject as '40c6dc917b8d84555a870a929d6eef503e2551ed92'} from 'ACTIONS_MODULE0'\nexport {getSiteSettings as '0020d395b91928d7fff701781a131d602d0902a747'} from 'ACTIONS_MODULE1'\nexport {updateHeroVideo as '4094030116ded64057226f1c9089448468a5d83e8b'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":"+DAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,sDAEA,IAAM,EAAsB,WACtB,EAAc,UACd,EAAoB,+EAEnB,eAAe,IAClB,GAAI,CACA,IAAM,EAAM,MAAM,EAAA,EAAE,CAAC,UAAU,CAAC,GAAqB,GAAG,CAAC,GAAa,GAAG,GAEzE,GAAI,CAAC,EAAI,MAAM,CAAE,CAEb,IAAM,EAAkB,CACpB,GAAI,EACJ,aAAc,EACd,UAAW,IAAI,OAAO,WAAW,EACrC,EAEA,OADA,MAAM,EAAA,EAAE,CAAC,UAAU,CAAC,GAAqB,GAAG,CAAC,GAAa,GAAG,CAAC,GACvD,CACX,CAEA,OAAO,EAAI,IAAI,EACnB,CAAE,MAAO,EAAO,CAGZ,OAFA,QAAQ,KAAK,CAAC,qCAAsC,GAE7C,CACH,GAAI,EACJ,aAAc,EACd,UAAW,IAAI,OAAO,WAAW,EACrC,CACJ,CACJ,CAEO,eAAe,EAAgB,CAAkB,EACpD,IAAM,EAAW,EAAS,GAAG,CAAC,YAEzB,IAEL,MAFe,AAET,EAAA,EAAE,CAAC,UAAU,CAAC,GAAqB,GAAG,CAAC,GAAa,GAAG,CAAC,CAC1D,GAAI,EACJ,aAAc,EACd,UAAW,IAAI,OAAO,WAAW,EACrC,EAAG,CAAE,OAAO,CAAK,GAEjB,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,KACf,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,UACnB,iCAxCsB,EA2BA,IA3BA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MA2BA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,mHCpCtB,IAAA,EAAA,EAAA,CAAA,CAAA,OAMA,EAAA,EAAA,CAAA,CAAA"}